
## 解释框架目录设计与逻辑架构与 ECB 的关系


>定义
 
软件架构：软件架构是一个系统的草图。软件架构描述的对象是直接构成系统的抽象组件。各个组件之间的连接则明确和相对细致地描述组件之间的通讯。设计软件架构就是把系统分解为一些部件，描述这些部件的职责及它们之间的协作行为。

逻辑架构：逻辑架构是软件架构的一种表现形式。软件的逻辑架构规定了软件系统由哪些逻辑元素组成、以及这些逻辑元素之间的关系。
软件的逻辑元素一般指某种级别的功能模块，大到我们熟悉的逻辑层（Layer），以及子系统、模块，小到一个个的类。至于具体要分解到何种大小的功能模块才可结束软件架构设计，并不存在一个“一刀切”的标准——只要足够明确简单，能够分头开发就可以了。于是，在实践中我们往往将关键机制相关的架构设计部分明确到类，而一般功能则到模块甚至子系统的接口定义即可。软件逻辑架构设计有3大核心任务：识别功能块、规划功能块的接口、明确功能块之间的使用关系和使用机制。

软件框架：软件框架是面向领域（如 ERP、计算领域等）的、可复用的“半成品”软件，它实现了该领域的共性部分，并提供了一些定义良好的可变点以保证灵活性和可扩展性。也就是说软件框架是领域分析结果的软件化，是领域内最终应用的模板，是特定语言和技术的架构应用解决方案。

框架目录设计：框架本身并不关注业务，至少不受业务影响或制约。框架就是要从具体的业务功能中，分离出能覆盖所有业务的设计、实现与组成。并使得各业务功能从开发实现的角度，变的解耦合、可重组、易维护。框架也会进化，其进化过程就是一个设计权衡的过程。一个典型的设计权衡过程就是目录结构设计。
目录结构设计方法，一般有两种：一种是以类型划分，一种是以业务划分。
以类型划分目录结构的特点是，遵循代码分层架构，分类不同层的代码。如：以MVC架构为例的目录结构特点就是，所有的Model模型放在同一目录下，所有的View视图放在同一目录下，所有的Controller控制器(或叫业务逻辑)放在同一目录下。
```
- src
   |- models
   |- views
   |- controllers	
```
以业务划分目录结构的特点是，以业务功能的形式组织代码，甚至可以将大业务拆分成小的业务组成。
```
- src
   |- module_A
   |- module_B
   |- module_C
```

ECB模式：将对象分为三类：边界类（boundary class），控制类（control class）和实体类（entity class）
Boundary：与外部 Actor 交互的类。包括 UI、外部系统接口
Controller：处理外部事件，实现控制流的类。通常是一个子系统、一个用例一个类
Entity：领域对象或数据实体

应用BCE模式规则：

1.针对每一个用例，可以对应生成一个控制类

2.参与者对象只能跟边界对象互动

3.实体对象不能发送消息给边界对象和控制对象。

>区别

简单来说，两者的区别在于架构不是软件，而框架是软件。

软件架构不是软件，而是关于软件如何设计的重要决策。软件架构决策涉及到如何将软件系统分解成不同的部分、各部分之间的静态结构关系和动态交互关系等。经过完整的开发过程之后，这些架构决策将体现在最终开发出的软件系统中；当然，引入软件框架之后，整个开发过程变成了“分两步走”，而架构决策往往会体现在框架之中。

框架是一种特殊的软件，由实际的代码构建而成，它并不能提供完整无缺的解决方案，而是为你构建解决方案提供良好的基础，是软件系统、子系统的半成品。软件框架为具体的解决方案提供了基础，提供了基础服务和可扩展点，同时软件框架也建立了一些约束，开发人员在此基础上进行特定业务功能的定制开发。

而逻辑架构与目录结构设计分别属于软件架构的一种表现形式和软件框架的一种应用方式，ECB模式则是一种目录结构设计模式。

>联系

软件架构是引导如何设计软件框架的重要决策。它决定了软件系统如何划分，在一定程度上描述了被划分的各个部分之间的静态、动态关系。软件架构的决策体现在软件系统的框架中。

逻辑架构可以引导目录框架设计，而进行设计时，我们可以选择ECB模式或其他结构。


