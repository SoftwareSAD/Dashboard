# API设计

参考[微信支付API](https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=9_1 "微信支付API")给出部分正式的API说明书

###按关键字检索影片信息

####应用场景
用户在搜索框输入想要搜索的内容，售票系统调用接口在数据库中查找相关的影片信息
####请求参数

| 字段名 | 变量名 | 必填 | 类型 | 示例值 | 描述 |
| :---: | :---: | :---: | :---: | :---: | :---: |
| 检索内容 | title | 是 | string | 哈利波特 | 需要检索的影片标题，UTF8编码的url encode |
| 查找要求 | smode | 否 | int | 0 | 是否实施精确查找，精确查找（默认）：1；模糊查找：0 |
| 返回条数 | pagesize | 否 | int | 13 | 搜索完成后返回多少条结果，默认20，最大50 |
| 返回数据格式 | dtype | 否 | string | json | 格式可以为json或xml，默认为json |

####返回参数

| 字段名 | 变量名 | 类型 | 示例值 | 描述 |
| :---: | :---: | :---: | :---: | :---: |
| 返回码 | resultcode | int | 200 |  |
| 返回说明 | reason | string | 成功返回 | 对于返回码的一个说明 |
| 返回结果集 | result | Array |  | 一个数组集合，数组内各元素是搜索得到的结果对象 |
| 错误码 | errorcode | int | 0 |  |

对于结果数组内得到的结果对象，其内部参数列表如下：

| 字段名 | 变量名 | 类型 | 示例值 | 描述 |
| :---: | :---: | :---: | :---: | :---: |
| ID | movieid | string | "10641" | 影片的唯一标识符 |
| 演员列表 | actors | string | 马修·布罗德里克 Matthew Broderick,让·雷诺 Jean Reno,玛丽亚·皮提罗 Maria Pitillo | 参演的演员列表 |
| 名字 | title | string | Hamlet | 影片名称 |
| 别名 | also_known_as | string | 哈姆雷特 | 影片的其他名称 |
| 得分 | rating | string | "7.5" | 影片的评分 |
| 分类 | genres | string | 戏剧，战争 | 影片的标签 |
| 时长 | runtime | string | "140 min" | 影片时长 |
| 语言 | language | string | English | 影片的对白使用的语言 |
| 海报 | poster | string | http://v.juhe.cn/movie/img?5146 | 影片海报资源所在的URL |
| 编剧列表 | writers | string | 迪安·德夫林 |  |
| 拍摄地 | film_locations | 美国，英国 |  | 影片取景地点 |
| 导演列表 | directors | string | 迪安·德夫林 |  |
| 评分人数 | rating_count | string | "4821" | 为影片打分的人数 |
| 剧情概要 | plot_simple | string |  |  |
| 拍摄时间 | year | string | "1998" |  |
| 拍摄国家 | country | string | 英国 |  |
| 上映时间 | release_date | string | "19980813" |  |
